[yves]

listen = /run/php.fpm.$pool.sock
listen.backlog = 1000
listen.allowed_clients = 127.0.0.1
listen.mode=0666
user = www-data
group = www-data
pm = dynamic
pm.max_children = 16
pm.start_servers = 4
pm.min_spare_servers = 2
pm.max_spare_servers = 8
; Avoid PHP memory leaks
pm.max_requests = 500

pm.status_path = /php-fpm-status-$pool
ping.path = /fpm-ping.php
ping.response = OK

request_terminate_timeout = 1800

; expose all our ENV vars to our application
clear_env = no

; Ensure worker stdout and stderr are sent to the main error log.
; TODO: consider to disable it on production as it can cause performance problems!
catch_workers_output = yes

chdir = /

access.log = /data/logs/php-fpm-$pool-access.log
php_admin_value[error_log] = /data/logs/php-fpm-$pool-error.log

php_admin_value[expose_php] = off
php_admin_value[max_execution_time] = 60
php_admin_value[opcache.enable_cli] = 1
php_admin_value[opcache.memory_consumption] = 256
php_admin_value[opcache.interned_strings_buffer] = 8
php_admin_value[opcache.max_accelerated_files] = 4000
php_admin_value[opcache.enable_file_override] = 1
